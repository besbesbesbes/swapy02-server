## CC18 Fakebook api

### env guide

PORT=8000
DATABASE="mysql://u:pwd@localhost:3306/swapy-db"
JWT_SECRET

CLOUDINARY_NAME
CLOUDINARY_API_KEY
CLOUDINARY_API_SECRET

---

### service

| No  | Service        | Sub_Service                    | Method | Path "/api"                                          | Authen | Params                         | Query                                                   | FormData | Body                                                                                          |
| --- | -------------- | ------------------------------ | ------ | ---------------------------------------------------- | ------ | ------------------------------ | ------------------------------------------------------- | -------- | --------------------------------------------------------------------------------------------- |
| 1   | Authentication | User register                  | POST   | /auth/register                                       | -      | -                              | -                                                       | -        | {name,email,password,confirmPassword}                                                         |
| 2   | Authentication | User login                     | POST   | /auth/login                                          | -      | -                              | -                                                       | -        | {name,password}                                                                               |
| 3   | User           | Get user info                  | GET    | /user/                                               | O      | -                              | -                                                       | -        | -                                                                                             |
| 4   | User           | Update user                    | PATCH  | /user/update-user                                    | O      | -                              | -                                                       | -        | {userDisplayName,userBio,userProfilePIc,userLocation,userAddress}                             |
| 5   | User           | Change password                | POST   | /user/change-password                                | O      | -                              | -                                                       | -        | {curPwd, newPwd, cnewPwd}                                                                     |
| 6   | User           | Change profile picture         | POST   | /user/change-profilepic                              | O      | -                              | -                                                       | O        | -                                                                                             |
| 7   | Search         | Search asset is ready by value | GET    | /search/                                             | -      | -                              | "v: assetName, i: userId, a: assetId, c: assetCategory" | -        | -                                                                                             |
| 8   | Search         | Search asset every status      | GET    | /search/all                                          | -      | -                              | "v: assetName, i: userId, a: assetId, c: assetCategory" | -        | -                                                                                             |
| 9   | Search         | Get highlight assets           | GET    | /search/highlight                                    | -      | -                              | -                                                       | -        | -                                                                                             |
| 10  | Asset          | Create new asset               | POST   | /asset/                                              | O      | -                              | -                                                       | O        | {assetName,assetCategory,assetBrand,assetCondition,assetNote}                                 |
| 11  | Asset          | Update asset                   | POST   | /asset/                                              | O      | -                              | -                                                       | O        | {assetId, assetName, assetCategory,assetBrand,assetCondition,assetNote,assetPics,picToDelete} |
| 12  | Asset          | Delete asset                   | DELETE | /asset/:assetId                                      | O      | assetId                        | -                                                       | -        | -                                                                                             |
| 13  | Asset          | Set asset to ready             | POST   | /asset/assetReady/:assetId                           | O      | assetId                        | -                                                       | -        | -                                                                                             |
| 14  | Offer          | Get offer list                 | GET    | /offer/getlist                                       | O      | -                              | -                                                       | -        | -                                                                                             |
| 15  | Offer          | Get offer detail               | GET    | /offer/getdetail/:offerId                            | O      | offerId                        | -                                                       | -        | -                                                                                             |
| 16  | Offer          | Get message detail             | GET    | /offer/getmsg/:offerId                               | O      | offerId                        | -                                                       | -        | -                                                                                             |
| 17  | Offer          | Create new offer               | POST   | /offer/createOffer/:assetId                          | O      | assetId                        | -                                                       | -        | -                                                                                             |
| 18  | Offer          | Reject offer                   | POST   | /offer/rejectOffer/:offerId                          | O      | offerId                        | -                                                       | -        | -                                                                                             |
| 19  | Offer          | Accept offer                   | POST   | /offer/acceptOffer/:offerId                          | O      | offerId                        | -                                                       | -        | -                                                                                             |
| 20  | Offer          | Pending offer                  | POST   | /offer/pendingOffer/:offerId                         | O      | offerId                        | -                                                       | -        | -                                                                                             |
| 21  | Message        | Add message to offer           | POST   | /msg/                                                | O      | -                              | -                                                       | -        | {messageTxt,messageIsAuto,userId,OfferId}                                                     |
| 22  | Offer Asset    | Get offer's asset              | GET    | /offer/asset/:offerId/:userId                        | O      | offerId,userId                 | -                                                       | -        | -                                                                                             |
| 23  | Offer Asset    | Add asset to offer             | POST   | /offer/asset/:offerId/:assetId                       | O      | offerId,assetId                | -                                                       | -        | -                                                                                             |
| 24  | Offer Asset    | Delete asset from offer        | POST   | /offer/asset/:offerId/:assetId                       | O      | offerId,assetId                | -                                                       | -        | -                                                                                             |
| 25  | Shipping       | Get shipping list              | GET    | /shipping/getShipping                                | O      | -                              | -                                                       | -        | -                                                                                             |
| 26  | Shipping       | Asset is shipped               | POST   | /shipping/assetShipped/:assetId                      | O      | assetId                        | -                                                       | -        | -                                                                                             |
| 27  | Shipping       | Asset is received              | POST   | /shipping/assetReceived/:assetId                     | O      | assetId                        | -                                                       | -        | -                                                                                             |
| 28  | Shipping       | Get user rating                | GET    | /shipping/userRate/:userForRateId                    | O      | userForRateId                  | -                                                       | -        | -                                                                                             |
| 29  | Shipping       | Rate user                      | POST   | /shipping/rateUser/:userForRateId/:userRate/:assetId | O      | userForRateId,userRate,assetId | -                                                       | -        |

---
